<!DOCTYPE html>
<html>
<head>
    <title>Script Loading Test</title>
</head>
<body>
    <h1>Script Loading Test</h1>
    
    <div id="test-output"></div>
    
    <script>
        console.log('=== Script Loading Test ===');
        
        // Test individual script loading
        function testScript(src, testName) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = () => {
                    console.log(`✅ ${testName} loaded successfully`);
                    resolve(true);
                };
                script.onerror = (error) => {
                    console.error(`❌ ${testName} failed to load:`, error);
                    resolve(false);
                };
                document.head.appendChild(script);
            });
        }
        
        // Test scripts sequentially
        async function testAll() {
            console.log('Testing script loading order...');
            
            // Test socket.io client library
            const socketioResult = await testScript('/socket.io/socket.io.js', 'Socket.io Client');
            
            // Test canvas.js
            const canvasResult = await testScript('canvas.js', 'Canvas Class');
            
            // Test websocket.js
            const websocketResult = await testScript('websocket.js', 'WebSocket Manager');
            
            // Test main.js
            const mainResult = await testScript('main.js', 'Main Controller');
            
            // Display results
            const output = document.getElementById('test-output');
            output.innerHTML = `
                <h2>Script Loading Results:</h2>
                <ul>
                    <li>Socket.io Client: ${socketioResult ? '✅ SUCCESS' : '❌ FAILED'}</li>
                    <li>Canvas Class: ${canvasResult ? '✅ SUCCESS' : '❌ FAILED'}</li>
                    <li>WebSocket Manager: ${websocketResult ? '✅ SUCCESS' : '❌ FAILED'}</li>
                    <li>Main Controller: ${mainResult ? '✅ SUCCESS' : '❌ FAILED'}</li>
                </ul>
                
                <h3>Debugging Info:</h3>
                <p>Check browser console for detailed error messages.</p>
                <p>If all scripts loaded successfully, the issue is in the code logic.</p>
            `;
        }
        
        testAll();
    </script>
</body>
</html>